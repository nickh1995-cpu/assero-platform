(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{63:(e,s,r)=>{"use strict";var i=r(7260);r.o(i,"useRouter")&&r.d(s,{useRouter:function(){return i.useRouter}}),r.o(i,"useSearchParams")&&r.d(s,{useSearchParams:function(){return i.useSearchParams}})},1398:(e,s,r)=>{"use strict";r.d(s,{Header:()=>c});var i=r(5155),l=r(2619),n=r.n(l),a=r(2115),t=r(6648);function c(){let[e,s]=(0,a.useState)(null),[r,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=(0,t.c)();e&&e.auth.getUser().then(e=>{var r,i;let{data:l}=e;s(null!=(i=null==(r=l.user)?void 0:r.email)?i:null)}).catch(e=>{s(null)})},[]);let c=()=>{l(!1)};return(0,i.jsx)("header",{className:"site-header","aria-label":"Primary",children:(0,i.jsxs)("div",{className:"container header-inner",children:[(0,i.jsx)(n(),{className:"brand",href:"/","aria-label":"Assero home",children:(0,i.jsx)("span",{className:"brand-word",children:"ASSERO"})}),(0,i.jsx)("button",{className:"nav-toggle",onClick:()=>{l(!r)},"aria-label":"Toggle navigation menu","aria-expanded":r,children:r?"✕":"☰"}),(0,i.jsx)("nav",{className:"nav",role:"navigation",children:(0,i.jsxs)("ul",{className:"nav-list",children:[(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/browse",children:"Entdecken"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/valuation",children:"Valuation"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/wallet",children:"Wallet"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/dealroom",children:"Dealroom"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/insights",children:"Insights"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/list/create",className:"nav-cta",children:"Inserieren"})}),(0,i.jsx)("li",{children:e?(0,i.jsx)(n(),{href:"/dashboard",children:"Konto"}):(0,i.jsx)(n(),{href:"/sign-in",children:"Anmelden"})})]})}),r&&(0,i.jsx)("nav",{className:"nav-mobile",role:"navigation",children:(0,i.jsxs)("ul",{className:"nav-list-mobile",children:[(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/browse",onClick:c,children:"Entdecken"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/valuation",onClick:c,children:"Valuation"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/wallet",onClick:c,children:"Wallet"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/dealroom",onClick:c,children:"Dealroom"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/insights",onClick:c,children:"Insights"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/list/create",className:"nav-cta",onClick:c,children:"Inserieren"})}),(0,i.jsx)("li",{children:e?(0,i.jsx)(n(),{href:"/dashboard",onClick:c,children:"Konto"}):(0,i.jsx)(n(),{href:"/sign-in",onClick:c,children:"Anmelden"})})]})})]})})}},6648:(e,s,r)=>{"use strict";r.d(s,{c:()=>n});var i=r(7559);let l=null;function n(){if(l)return l;try{let e="https://jbfmdooljpcbzfjcewjs.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZm1kb29sanBjYnpmamNld2pzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNDg0ODEsImV4cCI6MjA3MTYyNDQ4MX0.HlfMnatW1DTChJRwBH4_jpvJlTO0MeVjp96Xc4LceGQ";if(!e||!s)return null;return l=(0,i.createBrowserClient)(e,s)}catch(e){return null}}},7382:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var i=r(5155),l=r(2115),n=r(63),a=r(6648),t=r(1398);function c(){let[e,s]=(0,l.useState)("loading"),[r,c]=(0,l.useState)(""),d=(0,n.useRouter)();return(0,l.useEffect)(()=>{!async function(){var e,r,i,l,n;try{let n=(0,a.c)(),t=new URLSearchParams(window.location.search).get("code");if(!t)throw Error("Best\xe4tigungslink ist ung\xfcltig oder unvollst\xe4ndig.");let{data:h,error:o}=await n.auth.verifyOtp({token_hash:t,type:"signup"});if(o){if(o.message.includes("invalid")||o.message.includes("expired")){let{data:i}=await n.auth.getSession();if(null==(r=i.session)||null==(e=r.user)?void 0:e.email_confirmed_at){s("success"),c("Ihre E-Mail-Adresse wurde bereits best\xe4tigt! Sie werden zum Dashboard weitergeleitet."),setTimeout(()=>{d.push("/dashboard")},2e3);return}}throw o}if(h.user){let{error:e}=await n.from("profiles").upsert({id:h.user.id,email:h.user.email,first_name:(null==(i=h.user.user_metadata)?void 0:i.first_name)||"",last_name:(null==(l=h.user.user_metadata)?void 0:l.last_name)||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}s("success"),c("Ihre E-Mail-Adresse wurde erfolgreich best\xe4tigt!"),setTimeout(()=>{d.push("/sign-in?confirmed=true")},2e3)}catch(e){s("error"),c(null!=(n=null==e?void 0:e.message)?n:"Fehler bei der E-Mail-Best\xe4tigung")}}()},[d]),(0,i.jsxs)("main",{style:{backgroundColor:"#f4f7fa",minHeight:"100vh"},children:[(0,i.jsx)(t.Header,{}),(0,i.jsx)("div",{style:{padding:"48px 0"},children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"auth-container",children:(0,i.jsxs)("div",{className:"auth-card",children:[(0,i.jsx)("h1",{className:"auth-title",children:"E-Mail-Best\xe4tigung"}),"loading"===e&&(0,i.jsxs)("div",{className:"loading-spinner",children:[(0,i.jsx)("div",{className:"spinner"}),(0,i.jsx)("p",{children:"Best\xe4tige Ihre E-Mail-Adresse..."})]}),"success"===e&&(0,i.jsxs)("div",{className:"alert alert-success",children:[(0,i.jsx)("div",{className:"success-icon",children:(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,i.jsx)("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})]})}),(0,i.jsx)("h3",{children:"Best\xe4tigung erfolgreich!"}),(0,i.jsx)("p",{children:r}),(0,i.jsx)("p",{children:"Sie werden automatisch zu Ihrem Dashboard weitergeleitet..."}),(0,i.jsxs)("div",{className:"auth-actions",children:[(0,i.jsx)("a",{href:"/dashboard",className:"btn-primary",children:"Zum Dashboard"}),(0,i.jsx)("a",{href:"/",className:"btn-secondary",children:"Zur Startseite"})]})]}),"error"===e&&(0,i.jsxs)("div",{className:"alert alert-error",children:[(0,i.jsx)("div",{className:"error-icon",children:(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),(0,i.jsx)("h3",{children:"Best\xe4tigung fehlgeschlagen"}),(0,i.jsx)("p",{children:r}),(0,i.jsxs)("div",{className:"auth-actions",children:[(0,i.jsx)("a",{href:"/register",className:"btn-primary",children:"Neu registrieren"}),(0,i.jsx)("a",{href:"/sign-in",className:"btn-secondary",children:"Anmelden"})]})]})]})})})})]})}},8679:(e,s,r)=>{Promise.resolve().then(r.bind(r,7382))}},e=>{e.O(0,[559,619,441,255,358],()=>e(e.s=8679)),_N_E=e.O()}]);